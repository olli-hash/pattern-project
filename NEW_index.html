<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <title>hi, pattern project -- basic_index.html</title>

    <link href="https://fonts.googleapis.com/css?family=Butterfly+Kids|Roboto" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@500&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Merriweather&display=swap" rel="stylesheet">

	<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">

    <link rel="stylesheet" href="styles.css">
    <style>

    </style>

    <script type = "text/javascript"
        src = "https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js">
    </script>
<!--
    <script type = "text/javascript"
        src = "">
    </script>
    <script type = "text/javascript"
        src = "https://cdnjs.cloudflare.com/ajax/libs/handlebars.js/4.5.3/handlebars.js">
    </script>
-->
    <script type = "text/javascript"
        src = "handlebars-v4.5.3.js">
    </script>

    <script>
        var l = console.log.bind(console)	//   *global*
    </script>

    <script type = "text/javascript"
        src = "js/ui_events.js">
    </script>
    <!--   _______________________________________________________________   -->
    <!--   _______________________________________________________________   -->
    <!--   _______________________________________________________________   -->
    <!--   _______________________________________________________________   -->
    <!--   _______________________________________________________________   -->
    <!--   _______________________________________________________________   -->
    <!--   _______________________________________________________________   -->
    <script>
// --------- --------- --------- --------- --------- --------- --------- --------- --------- --------- --------- ---------

        // <head> <script>


		var all_templates = []				//   *global*


		var project_manager = {}			//   *global*
		project_manager.projects = []

		project_manager.list_all_projects = function () {
            $("#main0").css("display", "block")
            // $("#main0").css("position", "relative")
            // $("#main0").css("z-index", 10)
			for (var i = 0; i < this.projects.length; i++) {
				$("#main0").append(this.projects[i].name + "<br>")
			}
		}

		project_manager.runfirst = function () {
			this.projects[0].run()
		}

		var p1 = new project_class("first Project!")
		project_manager.projects.push(p1)

// --------- --------- --------- --------- --------- --------- --------- --------- --------- --------- --------- ---------

		// head script

		function project_class (name, html_id) {
			this.name = name
			this.now_main_html_id = html_id || "#main1"           // *HTML-HOOK*
			this.files = {}
		}

		project_class.prototype.run = function (hello) {

			var hello = hello || "<h2>" + this.name + "</h2> <br>"
			$(this.now_main_html_id).append(hello)
			this.new_clipboard()
			this.new_clipboard("clip2", "index.html")
			this.new_clipboard("body1", "index.html")
			this.new_clipboard("main", "my.css")
			// $(this.now_main_html_id).append(JSON.stringify(this.files))


			for (var i = 0; i < all_templates.length ; i++) {

				$(this.now_main_html_id).append(all_templates[i].list_template_head(i))


			}

		}

		project_class.prototype.new_clipboard = function (name, file) {

			if (! name) name = "clip1"
			if (! file) file = "index.html"

			if (typeof this.files[file] !== "undefined") {
				this.files[file].clipboards.push(new clipboard_class(name))
			}
			else {
				this.files[file] = {}
				this.files[file].clipboards = []
				this.files[file].clipboards.push(new clipboard_class(name))
			}

		}

		function clipboard_class (name) {
			this.name = name
		}

		function document_class (name) {

			this.name = name
			this.areas = []

		}

		document_class.prototype.add_area = function (area) {

			this.areas.push(area)

		}

		function document_area_class (before, content, after) {

			this.before = before
			this.content = content
			this.after = after

		}

		document_area_class.prototype.join = function (x) {

			return this.before + x + this.content + x + this.after

		}

        function connection_class (ins, outs) {

            this.ins = ins
            this.outs = outs

            /*
            Eine Connection vermittelt ggf. zwischen einem Project Field und dem Template Field eines "veräußerten"
            Template Objects.
            */
        }





        function field_deskriptor_class (name, connectivity ) {
            this.name = name
            this.connectivity = connectivity
        }
        field_deskriptor_class.prototype.apply_template = function() {
            l("hi apply_template()")
        }
        field_deskriptor_class.prototype.getvalue = function(field) {
            l("hi getvalue()")
        }
		field_deskriptor_class.prototype.show = function(field) {
            l("hi getvalue()")
        }

        function field_typer_class() {    // type declarations, that are divided by: "formal_type", "content_type", "content_use_case"
                                                                    // and even: "grammar_type",

            for (var i = 0; i < arguments.length; i++){

                switch (arguments[i]) {

                    case 'number' :
                        l("case: " + arguments[i])
                        this.formal_type = arguments[i]
                        break

                    case 'number-positive' :
                        l("case: " + arguments[i])
                        this.content_type = arguments[i]
                        break

                    case 'number-negative' :
                        l("case: " + arguments[i])
                        break

                    case 'number-positive-negative' :
                        l("case: " + arguments[i])
                        break

                    case 'number-as-percentage' :
                        l("case: " + arguments[i])
                        this.content_use_case = arguments[i]
                        break

                    case 'number-as-counter' :
                        l("case: " + arguments[i])
                        break

                    case 'number-as-kg' :
                        l("case: " + arguments[i])
                        break

                    case 'number-as-s' :
                        l("case: " + arguments[i])
                        break

                    case 'text' :
                        l("case: " + arguments[i])
                        break

                    case 'text-short' :
                        l("case: " + arguments[i])
                        break

                    case 'text-long' :
                        l("case: " + arguments[i])
                        break

                    case 'text-as-title' :          // name… label… title…
                        l("case: " + arguments[i])
                        break

                    case 'bool' :
                        l("case: " + arguments[i])
                        break

                    case 'complex' :
                        l("case: " + arguments[i])
                        break

                    case 'html-head' :
                        l("case: " + arguments[i])
                        break

                    case 'html-body' :
                        l("case: " + arguments[i])
                        break

                    case 'html-tag' :
                        l("case: " + arguments[i])
                        break

                    case 'html-attribute' :
                        l("case: " + arguments[i])
                        break

                    case 'xml-tag' :
                        l("case: " + arguments[i])
                        break

                    case 'xml-attribute' :
                        l("case: " + arguments[i])
                        break

                    case 'json' :
                        l("case: " + arguments[i])
                        break

                    case 'code' :
                        l("case: " + arguments[i])
                        break

                    case 'code-javascript' :
                        l("case: " + arguments[i])
                        break

                    case 'human-symbol' :
                        l("case: " + arguments[i])
                        break

                    case 'machine-symbol' :
                        l("case: " + arguments[i])
                        break

                    case 'html-string' :
                    case 'html' :
                        l("case: " + arguments[i])
                        break

                    case 'direct-display' :
                        l("case: " + arguments[i])
                        break

                    case 'filtered-display' :
                        l("case: " + arguments[i])
                        break

                    case 'controller-parameter' :
                        l("case: " + arguments[i])
                        break

                    case '' :
                        l("case: " + arguments[i])
                        break

                    default :
                        l("*default*: " + arguments[i])

                }//switch

            }//for

        }//function


        function apply_fn(){
            l("hi apply_fn")
        }


        // *global* //
        system_templates = Object.create(null)


        function template_class(source_id, name, tags, fields) {   //  template types ??  ... solved by "tags" ?

           // l("hi template_class")
            this.source = document.getElementById(source_id).innerHTML          // String !
            this.template = Handlebars.compile(this.source)                     // Function !  , depends on String
            this.name = name
            this.tags = tags
            this.fields = fields
			this.weblinks = []
            this.ex1 = { template_name: this.name }

        }


        template_class.prototype.sourcedisplay = function(){
			return system_templates["sourcedisplay"]({ template : this.source})
        }


        template_class.prototype.list_template = function(index){
			var o = {   index : index ,  name : this.name ,  tags : this.tags.join(", ") , template : this.source        }
			return system_templates["list_template"](o)
        }

		template_class.prototype.list_template_head = function(index){
			var o = {   index : index ,  name : this.name ,  tags : this.tags.join(", ") , links : this.weblinks ,
                code1 : this.source ,
                code1_output : this.template(this.ex1)
            }
			return system_templates["list_template_head"](o)
        }

        template_class.prototype.addURL = function(url){
			this.weblinks.push(url)
        }

        /*
        template_class.prototype.sourcedisplay_highlighted = function(){
                var a = "<div class='raw_template'>"
                var b = "</div>"
                return  a + zerotemplate_0({ zero : this.template()}) + b

        }
*/


        $( document ).ready(function() {

            //var x = new field_typer_class("hello", "html", "human-symbol")
            var y = new field_typer_class("human-symbol", "number", "html-body", "direct-display")

        })


</script>

<!-- ================================================================================================== -->
<!-- ================================================================================================== -->
<!-- ================================================================================================== -->
<!-- ================================================================================================== -->
<!-- ================================================================================================== -->
<!-- ================================================================================================== -->

<script id="system_list_project" type="text/x-handlebars-template">
{{{zero}}} ENTWURF
</script>

<script>
	$( document ).ready(function() {

		// *global* //
		system_templates["list_project"] = Handlebars.compile(document.getElementById("system_list_project").innerHTML)

		var template_tags = ["system", "master-project"]
		var fields = [{}]
		var template = new template_class("system_list_project","list_project", template_tags, fields)
		all_templates.push(template)
	})
</script>


<!-- ================================================================================================== -->

<script id="system_sourcedisplay" type="text/x-handlebars-template">
<div class='raw_template'>{{template}}</div>
</script>

<script>
	$( document ).ready(function() {

		// *global* //
		system_templates["sourcedisplay"] = Handlebars.compile(document.getElementById("system_sourcedisplay").innerHTML)

		var template_tags = ["system", "master-project"]
		var fields = [{}]
		var template = new template_class("system_sourcedisplay","template_sourcedisplay", template_tags, fields)
		all_templates.push(template)
	})
</script>


<!-- ================================================================================================== -->

<script id="system_list_template" type="text/x-handlebars-template">
<div class='float_left template_heading'>
[{{index}}]
</div>
<div class='float_left template_heading bold'>
{{name}}
</div>
<div class='float_left template_heading'>
{{tags}}
</div>
<br style='clear:all'>
<div class='raw_template'>{{template}}</div>
</script>

<script>
	$( document ).ready(function() {

		// *global* //

		system_templates["list_template"] = Handlebars.compile(document.getElementById("system_list_template").innerHTML)

		var template_tags = ["system"]
		var fields = [{},{},{},{}]
		var template = new template_class("system_list_template","list_template", template_tags, fields)
		all_templates.push(template)
	})
</script>


<!-- ================================================================================================== -->

<script id="system_list_template_head" type="text/x-handlebars-template">
<div class="show_template">
    <div class="upper_bar">ok
        <div class='float_left template_heading'>
        [{{index}}]
        </div>
        <div class='float_left template_heading bold'>
        {{name}}
        </div>
        <div class='float_left template_heading template_tags'>
        {{tags}}
        </div>
        <div class='float_left template_heading'>
            {{#each links}}
                <a href="{{this}}">[link]</a>
            {{/each}}
        </div>
        oder nicht ok?
    </div>

    <br style='clear:both'>
    <div class="code1">
    {{code1}}
    </div>
    <div class="code1_output">
    {{{code1_output}}}
    <br>
    </div>
</div>


</script>

<script>
	$( document ).ready(function() {

		// *global* //

		system_templates["list_template_head"] = Handlebars.compile(document.getElementById("system_list_template_head").innerHTML)

		var template_tags = ["system"]
		var fields = [{},{},{},{}]
		var template = new template_class("system_list_template_head","list_template_head", template_tags, fields)
		all_templates.push(template)
	})
</script>


<!-- ================================================================================================== -->

<script id="003" type="text/x-handlebars-template">
<div class="{{class1}}"><span class="{{class1_1}}">{{name}}</span><span class="{{class1_2}}">{{value}}</span></div>
</script>

<script>
	$( document ).ready(function() {
		var fields = [new field_deskriptor_class( "", "", "", "name", "i am a name-field", [], [],
				new field_typer_class("text-short")  )  ,

			new field_deskriptor_class( "", "", "", "value", "i am a value-field", [], [],
				new field_typer_class("text-short")  )
		]

		var template_tags = ["html-body", "basic"]
		var template = new template_class("003","name_and_value_2", template_tags, fields)
		all_templates.push(template)
	});
</script>

<!-- ================================================================================================== -->

<!--
<script id="" type="text/x-handlebars-template"></script>

<script>
	$( document ).ready(function() {


	});
</script>
-->


<!-- ================================================================================================== -->

<script id="test_helper" type="text/x-handlebars-template"><div>{{olli "wow"}}</div></script>

<script>
	$( document ).ready(function() {
		var template_tags = ["handlebars-test" ]
		var fields = []
		var template = new template_class("test_helper","test_helper", template_tags, fields)
		template.addURL("https://handlebarsjs.com/guide/expressions.html")
		all_templates.push(template)
	});

    Handlebars.registerHelper('olli', function (aString) {
        return aString.toUpperCase()
    })

</script>

<!-- ================================================================================================== -->

<script id="pattern111" type="text/x-handlebars-template"><div>this is pattern111</div></script>

<script>
	$( document ).ready(function() {
		var template_tags = ["experiment" ]
		var fields = []
		var template = new template_class("pattern111","pattern111", template_tags, fields)
		template.addURL("https://handlebarsjs.com/guide/expressions.html")
		all_templates.push(template)
	});

</script>


<!-- ================================================================================================== -->
<!--
https://developer.mozilla.org/en-US/docs/Learn/JavaScript/Asynchronous/Introducing ================================================================================================== -->
<!-- ================================================================================================== -->

<script>
	$( document ).ready(function() {
        project_manager.list_all_projects()
        project_manager.runfirst()
        call_ui()
	});
</script>
</head>
<body>


<div id="container1">
    <div id="start0"></div>
    <div id="start1"></div>
    <div id="start2"></div>
    <div id="main0"></div>
    <div id="main1"></div>
    <div id="main2"></div>
    <div id="end0"></div>
    <div id="end1"></div>
    <div id="end2"></div>
</div>

</body>
</html>
