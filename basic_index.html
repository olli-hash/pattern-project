<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <title>hi index.html</title>
    <link href="https://fonts.googleapis.com/css?family=Butterfly+Kids|Roboto" rel="stylesheet"> 
    <style>
        div, p { color: #333333; margin: 3px;	}
		
		#start0, #start1, #start2 { color: #333333; margin: 3px;  padding: 5px;  background-color: green;     }
		#main0, #main1, #main2 { color: #333333; margin: 3px;  padding: 5px;  background-color: yellow;     }
		#end0, #end1, #end2 { color: #333333; margin: 3px;  padding: 5px;  background-color: Crimson;     }
		
		
		
		.raw_template {   white-space: pre;   padding: 10px; margin-bottom: 22px; background-color: #fefefe; box-shadow: 1px 1px 3px 2px #888888;     }
                .float_left {  float:left;     }
                .template_heading {       }
                .bold { font-weight: bold;    }
    </style>
    
    
    
    
    
    <script type = "text/javascript" 
        src = "https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js">
    </script>
<!--    <script type = "text/javascript" 
        src = "">
    </script>
    -->
    <script type = "text/javascript" 
        src = "https://cdnjs.cloudflare.com/ajax/libs/handlebars.js/4.5.3/handlebars.js">
    </script>
    <script>
    
        var l = console.log.bind(console)	//   *global*
    
    </script>
<!--   ..............................................................................................   -->
    <script>
// --------- --------- --------- --------- --------- --------- --------- --------- --------- --------- --------- --------- 

                // <head> <script>
        
        
		var all_templates = []				//   *global*


		var project_manager = {}			//   *global*
		project_manager.projects = []
		  
		project_manager.list_all_projects = function () {
			for (var i = 0; i < this.projects.length; i++) {
				$("#main1").append(this.projects[i].name + "<br>")
			}
		}
		
		project_manager.runfirst = function () {
			this.projects[0].run()
		}
		
		var p1 = new project_class("first Project!")
		project_manager.projects.push(p1)
		
		
		
		
		

// --------- --------- --------- --------- --------- --------- --------- --------- --------- --------- --------- --------- 

/*
function field_deskriptor_class (group_id, id, name, init_value, formal_type, content_type, explain, relates_to, prefix, suffix, additional_data, helper) {
        
function field_deskriptor_class (name, init_value, formal_type, content_type, template_context, htmlid_context, htmlclass_context, application_context) {
        
            template_context.      // == template path
                __.parents   __.path  __.pathup __.pathdown  
                
                
            order_context.
            
        
        }
 */       
 
                                            /*
                                            
                                            
                                            Fields
                                            
                         that know alternative_values, alternative content, types, automatisation, 
                                            
                                            
                                            Type Options
                                            
                        formal_type, content_type, content_use_case, explain
                        grammar_type, css_type
                        
                                    are generated by "field_typer_class"
                                            
                                            
                                                CSS-Types
                                                
                                        groß, klein, betont, nicht-betont, …
                                            

*/       


/*
	var afield = new field_deskriptor_class()

	afield.config()

	afield.add_callback()
*/

		// head script

		function project_class (name, html_id) {
		
			this.name = name
			this.now_main_html_id = html_id || "#main1"
			
			this.files = {}
			
		}
		
			project_class.prototype.run = function (hello) {
			
				hello = hello || "test AA <br>"
				$(this.now_main_html_id).append(hello)
				this.new_clipboard()
				this.new_clipboard("clip2", "index.html")
				this.new_clipboard("body1", "index.html")
				this.new_clipboard("main", "my.css")
				
				
				$(this.now_main_html_id).append(JSON.stringify(this.files))
			
			}
			
			project_class.prototype.new_clipboard = function (name, file) {
			
				if (! name) name = "clip1"
				if (! file) file = "index.html"
				
				if (typeof this.files[file] !== "undefined") {
					this.files[file].clipboards.push(new clipboard_class(name))
				}
				else {
					this.files[file] = {}
					this.files[file].clipboards = []
					this.files[file].clipboards.push(new clipboard_class(name))
				}
				
			}
		
		function clipboard_class (name) {
			this.name = name
		}
		
		
		
		function document_class (name) {
		
			this.name = name
			this.areas = []
		
		}
				
			document_class.prototype.add_area = function (area) {
			
				this.areas.push(area)
			
			}
			
			function document_area_class (before, content, after) {
			
				this.before = before
				this.content = content
				this.after = after
			
			}
			
			document_area_class.prototype.join = function (x) {
			
				return this.before + x + this.content + x + this.after
			
			}
				
				
                
    
    
                function connection_class (ins, outs) {
                
                    this.ins = ins
                    
                    this.outs = outs
                    
                    /*
                    
                    
                    Eine Connection vermittelt ggf. zwischen einem Project Field und dem Template Field eines "veräußerten"
                    Template Objects.
                    
                
                
                
                
                    */  
                }
    
    
    
    
    
                function field_deskriptor_class (name, connectivity ) {
                
                    this.name = name 
                    this.connectivity = connectivity
                    
                    //this.field_relations = field_relations
                    //this.type = type_o

                    
/*        function field_deskriptor_class (name, alternative_names, possible_values, typical_values , 

																					      field_relations, type_o ) {
                                                            // formal_type, content_type, grammar_type
            
            this.name = name 							// name as notated in template handlebar expression
			
			this.alternative_names = alternative_names || []


            this.possible_values = possible_values		// array of possible values


			this.possible_value_sources = possible_value_sources
            
            
            //this.type_description = `Some '${this.formal_type}' to provide '${this.content_type}'`
            
            //this.explain = explain              // z.B. "Bitte geben Sie den Titel an!", "Titel"
            
            
            this.field_relations = field_relations
            this.type = type_o
          */  
            
            
            //this.relates_to = relates_to
            //this.prefix = prefix    // means "min" in number context
            //this.suffix = suffix    // means "max" in number context
            //this.additional_data = additional_data
            //this.helper = helper
        
        }
        field_deskriptor_class.prototype.apply_template = function() {
            l("hi apply_template()")
        }
        
        field_deskriptor_class.prototype.getvalue = function(field) {
            l("hi getvalue()")
        }
        
		field_deskriptor_class.prototype.show = function(field) {
            l("hi getvalue()")
        }
        
					         								/*


												+++  field_typer_class  +++

										filters "type-tags" into type-categories





 
        							  						 */      





        function field_typer_class() {    // type declarations, that are divided by: "formal_type", "content_type", "content_use_case"
                                                                    // and even: "grammar_type", 
        
            for (var i = 0; i < arguments.length; i++){
            
                switch (arguments[i]) {
                
                    case 'number' : 
                        l("case: " + arguments[i])
                        this.formal_type = arguments[i]
                        break
                    
                    case 'number-positive' : 
                        l("case: " + arguments[i])
                        this.content_type = arguments[i]
                        break
                    
                    case 'number-negative' : 
                        l("case: " + arguments[i])
                        break
                    
                    case 'number-positive-negative' : 
                        l("case: " + arguments[i])
                        break
                    
                    case 'number-as-percentage' : 
                        l("case: " + arguments[i])
                        this.content_use_case = arguments[i]
                        break
                    
                    case 'number-as-counter' : 
                        l("case: " + arguments[i])
                        break
                    
                    case 'number-as-kg' : 
                        l("case: " + arguments[i])
                        break
                    
                    case 'number-as-s' : 
                        l("case: " + arguments[i])
                        break
                    
                    case 'text' : 
                        l("case: " + arguments[i])
                        break
                    
                    case 'text-short' : 
                        l("case: " + arguments[i])
                        break
                    
                    case 'text-long' : 
                        l("case: " + arguments[i])
                        break
                    
                    case 'text-as-title' :          // name… label… title…
                        l("case: " + arguments[i])
                        break
                    
                    case 'bool' : 
                        l("case: " + arguments[i])
                        break
                    
                    case 'complex' : 
                        l("case: " + arguments[i])
                        break
                    
                    case 'html-head' : 
                        l("case: " + arguments[i])
                        break
                    
                    case 'html-body' : 
                        l("case: " + arguments[i])
                        break
                    
                    case 'html-tag' : 
                        l("case: " + arguments[i])
                        break
                    
                    case 'html-attribute' : 
                        l("case: " + arguments[i])
                        break
                    
                    case 'xml-tag' : 
                        l("case: " + arguments[i])
                        break
                    
                    case 'xml-attribute' : 
                        l("case: " + arguments[i])
                        break
                    
                    case 'json' : 
                        l("case: " + arguments[i])
                        break
                    
                    case 'code' : 
                        l("case: " + arguments[i])
                        break
                    
                    case 'code-javascript' : 
                        l("case: " + arguments[i])
                        break
                    
                    case 'human-symbol' : 
                        l("case: " + arguments[i])
                        break
                    
                    case 'machine-symbol' : 
                        l("case: " + arguments[i])
                        break
                    
                    case 'html-string' : 
                    case 'html' : 
                        l("case: " + arguments[i])
                        break
                    
                    case 'direct-display' : 
                        l("case: " + arguments[i])
                        break
                    
                    case 'filtered-display' : 
                        l("case: " + arguments[i])
                        break
                    
                    case 'controller-parameter' : 
                        l("case: " + arguments[i])
                        break
                    
                    case '' : 
                        l("case: " + arguments[i])
                        break
                    
                    default :
                        l("*default*: " + arguments[i])
                
                }//switch
            
            }//for
        
        }//function
        
        
        function apply_fn(){
            l("hi apply_fn")
        }
        
        
        // *global* //
        system_templates = Object.create(null)
        
                
        function template_class(source_id, name, tags, fields) {   //  template types ??  ... solved by "tags" ?

           // l("hi template_class")
            this.source = document.getElementById(source_id).innerHTML          // String !
            this.template = Handlebars.compile(this.source)                     // Function !  , depends on String
            this.name = name
            this.tags = tags
            this.fields = fields

        }


        template_class.prototype.sourcedisplay = function(){
                return  system_templates["sourcedisplay"]({ template : this.source})
        }
        
        
        template_class.prototype.list_template = function(more){
                var o = {   index : more ,  name : this.name ,  tags : this.tags.join() , template : this.source        }
                return system_templates["list_template"](o)
        }
        
        
        
        
        
        

        /*
        template_class.prototype.sourcedisplay_highlighted = function(){
                var a = "<div class='raw_template'>"
                var b = "</div>"
                return  a + zerotemplate_0({ zero : this.template()}) + b

        }
*/












        
        $( document ).ready(function() {
        
            //var x = new field_typer_class("hello", "html", "human-symbol")
            
            
            var y = new field_typer_class("human-symbol", "number", "html-body", "direct-display")
        
        })



	



        
    </script>

    
<!-- Kann man hier auch src="..." benutzen?  -->
<script id="zero" type="text/x-handlebars-template">{{zero}}</script>

<script>
	$( document ).ready(function() {
		
		// *global* //
		system_templates["zerotemplate"] = Handlebars.compile(document.getElementById("zero").innerHTML)
		
		var template_tags = ["system"]
		var fields = [{}]
		var template = new template_class("zero","zero1", template_tags, fields)
		all_templates.push(template)
	})
</script>

    

<script id="zero_unescaped" type="text/x-handlebars-template">{{{zero}}}</script>

<script>
	$( document ).ready(function() {
		
		// *global* //
		system_templates["zerotemplate_0"] = Handlebars.compile(document.getElementById("zero_unescaped").innerHTML)
		
		var template_tags = ["system"]
		var fields = [{}]
		var template = new template_class("zero_unescaped","zero2", template_tags, fields)
		all_templates.push(template)
	})
</script>


<script id="system_list_project" type="text/x-handlebars-template">
{{{zero}}}
</script>

<script>
	$( document ).ready(function() {
		
		// *global* //
		system_templates["list_project"] = Handlebars.compile(document.getElementById("system_list_project").innerHTML)
		
		var template_tags = ["system", "master-project"]
		var fields = [{}]
		var template = new template_class("system_list_project","list_project", template_tags, fields)
		all_templates.push(template)
	})
</script>



<script id="system_sourcedisplay" type="text/x-handlebars-template">
<div class='raw_template'>{{template}}</div>
</script>

<script>
	$( document ).ready(function() {
		
		// *global* //
		system_templates["sourcedisplay"] = Handlebars.compile(document.getElementById("system_sourcedisplay").innerHTML)
		
		var template_tags = ["system", "master-project"]
		var fields = [{}]
		var template = new template_class("system_sourcedisplay","template_sourcedisplay", template_tags, fields)
		all_templates.push(template)
	})
</script>


    
<script id="system_list_template" type="text/x-handlebars-template">
<div class='float_left template_heading'>
[{{index}}]
</div>
<div class='float_left template_heading bold'>
{{name}}
</div>
<div class='float_left template_heading'>
{{tags}}
</div>
<br style='clear:all'>
<div class='raw_template'>{{template}}</div>
</script>

<script>
	$( document ).ready(function() {
		
		// *global* //
		
		system_templates["list_template"] = Handlebars.compile(document.getElementById("system_list_template").innerHTML)
		
		var template_tags = ["system"]
		var fields = [{},{},{},{}]
		var template = new template_class("system_list_template","list_template", template_tags, fields)
		all_templates.push(template)
	})
</script>

    




    
<script id="aaa" type="text/x-handlebars-template">
<title>{{title}}</title>
</script>

<script>
	$( document ).ready(function() {
	
		// (doc_id, html_parent, logical_parent, name, init_value, alternative_values, field_relations, type_o )


		// deprecated:
		var fields = [new field_deskriptor_class( "", "", "", "title", "hi", [], [], 
						new field_typer_class("text-short", "title_for_doc", "Website-Titel")  )   ]
						
		var template_tags = ["html-head", "basic"]
									// (source_id, name, tags, fields)
		var template = new template_class("aaa","head_title_tag", template_tags, fields)
		
		all_templates.push(template)
	});
</script>

    
    
    
    
    
<script id="001" type="text/x-handlebars-template">
<div><span>{{name}}</span><span>{{value}}</span></div>
</script>

<script>                         
	$( document ).ready(function() {
		// deprecated
		var fields = [new field_deskriptor_class( "", "", "", "name", "i am a name-field", [], [], 
						new field_typer_class("text-short")  )  ,

					new field_deskriptor_class( "", "", "", "value", "i am a value-field", [], [], 
						new field_typer_class("text-short")  )  

		 ]
		var template_tags = ["html-body", "basic"]
		var template = new template_class("001","name_and_value", template_tags, fields)
		all_templates.push(template)
	});
</script>
    
    



<script id="002" type="text/x-handlebars-template">
<div class="name_value"><span class="{{class1}}">{{name}}</span><span class="{{class2}}">{{value}}</span></div>
</script>

<script>                         
	$( document ).ready(function() {
		// (doc_id, html_parent, logical_parent, name, init_value, alternative_values, field_relations, type_o )
						var fields = [new field_deskriptor_class( "", "", "", "name", "i am a name-field", [], [], 
						new field_typer_class("text-short")  )  ,
					new field_deskriptor_class( "", "", "", "value", "i am a value-field", [], [], 
						new field_typer_class("text-short")  )  
		 ]
		var template_tags = ["html-body", "basic"]
		var template = new template_class("002","name_and_value_1", template_tags, fields)
		all_templates.push(template)
	});
</script>
    
    

<script id="003" type="text/x-handlebars-template">
<div class="{{class1}}"><span class="{{class1_1}}">{{name}}</span><span class="{{class1_2}}">{{value}}</span></div>
</script>

<script>                         
	$( document ).ready(function() {
		var fields = [new field_deskriptor_class( "", "", "", "name", "i am a name-field", [], [], 
				new field_typer_class("text-short")  )  ,

			new field_deskriptor_class( "", "", "", "value", "i am a value-field", [], [], 
				new field_typer_class("text-short")  )  
		]
		
		var template_tags = ["html-body", "basic"]
		var template = new template_class("003","name_and_value_2", template_tags, fields)
		all_templates.push(template)
	});
</script>

<!--
<script id="" type="text/x-handlebars-template"></script>

<script>
	$( document ).ready(function() {
		
		
	});
</script>
-->


<script id="form_example1" type="text/x-handlebars-template"><form>
	<label for="fname">First name:</label><br>
	<input type="text" id="fname" name="fname"><br>
	<label for="lname">Last name:</label><br>
	<input type="text" id="lname" name="lname">
</form></script>

<script>
	$( document ).ready(function() {
		var template_tags = ["html-basic", "form", "example" ]
		var fields = []
		var template = new template_class("form_example1","form_example1", template_tags, fields)
		all_templates.push(template)
	});
</script>



<script id="form_example2" type="text/x-handlebars-template"><form>
	<input type="radio" id="male" name="gender" value="male">
	<label for="male">Male</label><br>
	<input type="radio" id="female" name="gender" value="female">
	<label for="female">Female</label><br>
	<input type="radio" id="other" name="gender" value="other">
	<label for="other">Other</label>
</form></script>

<script>
	$( document ).ready(function() {
		var template_tags = ["html-basic", "form", "example" ]
		var fields = []
		var template = new template_class("form_example2","form_example2", template_tags, fields)
		all_templates.push(template)	
	});
</script>




    
<script>
	$( document ).ready(function() {
		project_manager.runfirst()
	});
</script>
</head>
<body>

<div id="start0"></div>
<div id="start1"></div>
<div id="start2"></div>
<div id="main0"></div>
<div id="main1"></div>
<div id="main2"></div>
<div id="end0"></div>
<div id="end1"></div>
<div id="end2"></div>

</body>
</html>
